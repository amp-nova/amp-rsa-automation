{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://amprsa.net/amprsa/config",

	"title": "AMP RSA Configuration",
	"description": "Description",

	"allOf": [
		{
			"$ref": "http://bigcontent.io/cms/schema/v1/core#/definitions/content"
		}
	],
	
	"type": "object",
	"properties": {
		"environment": {
			"title": "Environment name",
			"description": "The name of the environment",
			"type": "string",
			"minLength": 0,
			"maxLength": 200
		},
		"app": {
			"title": "App configuration",
			"type": "object",
			"allOf": [{ "$ref": "https://amprsa.net/integration/app#/definitions/config" }]
		},
		"algolia": {
			"title": "Algolia configuration",
			"type": "object",
			"allOf": [{ "$ref": "https://amprsa.net/integration/algolia#/definitions/config" }]
		},
		"cms": {
			"title": "Amplience configuration",
			"type": "object",
			"allOf": [{ "$ref": "https://amprsa.net/integration/amplience#/definitions/config" }]
		},
		"dam": {
			"title": "Amplience DAM import configuration",
			"type": "object",
			"allOf": [{ "$ref": "https://amprsa.net/integration/amplience#/definitions/dam-assets" }]
		},
		"googlemaps": {
			"title": "Google Maps configuration",
			"type": "object",
			"allOf": [{ "$ref": "https://amprsa.net/integration/googlemaps#/definitions/config" }]
		},
		"commerce": {
			"title": "Commerce integration",
			"allOf": [
				{ "$ref": "http://bigcontent.io/cms/schema/v1/core#/definitions/content-reference" },
				{
					"properties": {
						"contentType": {
							"enum": [
								"https://amprsa.net/credentials/commercetools",
								"https://amprsa.net/credentials/hybris",
								"https://amprsa.net/credentials/bigcommerce",
								"https://amprsa.net/credentials/file",
								"https://amprsa.net/credentials/amplience"
							]
						}
					}
				}
			]
		}
	},
	"propertyOrder": [
		"environment",
		"app",
		"cms",
		"commerce",
		"algolia",
		"analytics"
	]
}