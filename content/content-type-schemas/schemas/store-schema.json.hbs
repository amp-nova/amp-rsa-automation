{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://amprsa.net/content/store",

	"title": "Store Location",
	"description": "Store location details",

	"allOf": [
		{
			"$ref": "http://bigcontent.io/cms/schema/v1/core#/definitions/content"
		}
	],
	
	"trait:sortable": {
		"sortBy": [
			{
				"key": "default",
				"paths": [
					"/locationName"
				]
			}
		]
	},

	"trait:filterable": {
		"filterBy": [
			{
				"paths": [
					"/filterActive"
				]
			},
			{
				"paths": [
					"/filterActive",
					"/keyElements/parking"
				]
			}
		]
	},

	"type": "object",
	"properties": {
		"filterActive": {
			"title": "Active for Filter API",
			"type": "boolean",
			"default": "true"
		},
		"locationName": {
			"title": "Store Name",
			"type": "string",
			"minLength": 0,
			"maxLength": 64
		},
		"_meta": {
			"type": "object",
			"title": "Slug",
			"properties": {
				"deliveryKey": {
				"type": "string",
				"title": "URL slug",
				"description": "Enter the URL slug for this store (store/*)",
				"pattern": "store\/.*"
				}
			}
		},
		"locationAddress": {
			"title": "Store Address",
			"description": "Full address of the store",
			"type": "string",
			"format": "markdown",
			"maxLength": 150
		},
		"location": {
			"title": "Store Location",
			"type": "object",
			"properties": {
				"lat": {
					"title": "Latitude",
					"type": "number",
					"minimum": -90,
					"maximum": 90
				},
				"lng": {
					"title": "Latitude",
					"type": "number",
					"minimum": -180,
					"maximum": 180
				}
			},
			"ui:extension": {
				"name": "google-maps"	
			},
			"propertyOrder": []
		},
		"keyElements": {
			"title": "Key Store Elements",
			"type": "object",
			"properties": {
				"parking": {
					"title": "Parking",
					"description": "Parking space avaiable",
					"type": "boolean"
				},
				"clickAndCollect": {
					"title": "Click & Collect",
					"description": "Click & Collect available",
					"type": "boolean"
				},
				"lateOpening": {
					"title": "Late Opening",
					"description": "Late Opening times",
					"type": "boolean"
				}
			},
			"propertyOrder": ["parking","clickAndCollect","lateOpening"]
		},
		"details": {
			"title": "Store Details",
			"type": "string",
			"format": "markdown"
		},
		"image": {
			"title": "Image",
			"allOf": [
				{ "$ref": "http://bigcontent.io/cms/schema/v1/core#/definitions/image-link" }
			]
		}
		
	},
	"propertyOrder": ["filterActive", "locationName", "_meta", "location", "locationAddress", "image", "keyElements", "details"]
}